# konlpy 형태소 분석기 성능 비교

### I. 목적

&nbsp;&nbsp;&nbsp;&nbsp;채팅은 뉴스, 책 등과 다르게 맞춤법과 띄어쓰기가 잘 지켜지지 않는다. 이러한 특징을 가진 채팅에서 많이 출연한 명사를 추출하는 기능을 구현하는데 있어 가장 중요한 것은 형태소 분석기의 성능이다. 따라서 가장 효과적인 형태소 분석기를 선택하기 위해 Konlpy의 4가지 형태소 분석기가 채팅에서 어떻게 명사를 추출하는지, 각 형태소 분석기의 장단점은 무엇인지 살펴본다.

<br/>

### II. 형태소  분석기 소개

1. **Hannanum**: 한나눔. KAIST Semantic Web Research Center 개발

2. **Kkma**: 꼬꼬마. 서울대학교 IDS(Intelligent Data Systems) 연구실 개발

3. **Komoran**: 코모란. Shineware에서 개발.

4. **Okt(Open Korean Text)**: 오픈 소스 한국어 분석기. 과거 트위터 형태소 분석기

<br/>

### III. 테스트 

AfreecaTV 킹기훈의 채팅로그(http://vod.afreecatv.com/PLAYER/STATION/53773494) 를 사용하여 테스트하였으며 ‘더’, ‘노’, ‘마’와 같은 실질적 의미가 적은 길이가 1인 명사를 제외한 길이가 2 이상인 명사만을 사용하였다.

1. 채팅에서 많이 출연한 상위 10개의 명사를 추출한 결과
    
    - Hannanum
    
    | |명사|출연 빈도수|
    |---|---|---|
    |1|ㅋㅋㅋㅋㅋ|510|
    |2|ㅋㅋ|279|
    |3|기훈|240|
    |4|ㅋㅋㅋ|192|
    |5|ㅋㅋㅋㅋ|178|
    |6|얼음|137|
    |7|돼지|191|
    |8|우유|80|
    |9|기후|79|
    |10|가현|73|
    
    - Kkma
    
    | |명사|출연 빈도수|
    |---|---|---|
    |1|얼음|264|
    |2|기훈|220|
    |3|기훈이|167|
    |4|가현|164|
    |5|돼지|142|
    |6|우유|129|
    |7|기후|112|
    |8|커피|93|
    |9|오늘|85|
    |10|숟가락|47|

    - Komoran
    
    | |명사|출연 빈도수|
    |---|---|---|
    |1|기후|226|
    |2|얼음|252|
    |3|가현|238|
    |4|돼지|135|
    |5|우유|124|
    |6|커피|91|
    |7|오늘|84|
    |8|유하|72|
    |9|김정은|62|
    |10|달고나|56|
    
    - Okt
    
    | |명사|출연 빈도수|
    |---|---|---|
    |1|기훈|276|
    |2|얼음|169|
    |3|가현|173|
    |4|돼지|145|
    |5|우유|118|
    |6|기후|102|
    |7|그냥|98|
    |8|오늘|90|
    |9|커피|82|
    |10|유하|74|
    
    - 같은 채팅로그에서 명사를 추출했음에도 같은 명사의 빈도수가 다르게 측정되는 것은 형태소 분석기 간 띄어쓰기가 없는 채팅에서 명사를 추출하는 성능의 차이가 존재하기 때문이다.
    
    <br/>
    
2. 채팅에서 많이 출연한 상위 10개의 명사 추출에 소요된 시간

    |형태소 분석기|소요시간(초)|
    |---|---|
    |Hannanum|11|
    |Kkma|132|
    |Komoran|8|
    |Okt|15|
    
    <br/>
    
3. 띄어쓰기가 올바르지 않은 채팅에서 명사를 추출한 결과

    - 테스트 문장 1: 오늘레전드컨텐츠 들고왔땅
    
    |형태소 분석기|결과|
    |---|---|
    |Hannanum|오늘레전드컨텐츠, 들고왔땅|
    |Kkma|오늘, 오늘레전, 컨텐츠, 왔땅|
    |Komoran|추출된 명사 없음|
    |Okt|오늘, 레전드, 컨텐츠|
    
    - 테스트 문장 2: 질혜님생일파티안가세요
    
    |형태소 분석기|결과|
    |---|---|
    |Hannanum|질혜님생일파티안가|
    |Kkma|파티, 질혜님생일, 생일, 안가, 안가세요, 세요|
    |Komoran|생일, 파티, 가세|
    |Okt|질혜, 생일, 파티|
    
    - 두번의 테스트 모두 Okt가 가장 좋은 성능을 보여줬다.
    
<br/>

### IV. 정리

|형태소 분석기|장점|단점|
|---|---|---|
|Hannanum| - 소요시간이 적음| - “ㅋㅋㅋ”, “ㄱㅅ”과 같은 완전하지 않은 문자를 명사로 인식함 <br><br> - 띄어쓰기가 정확하지 않은 문장에서 명사를 추출하지 못함|
|Kkma| - 감전수용소’에서 명사를 추출하면 ‘감점’, ‘수용소’, ‘감전수용소’와 같이 자세히 추출됨| - 소요시간이 큼<br><br> - “ㅋㅋㅋ”, “ㄱㅅ”과 같은 완전하지 않은 문자를 명사로 인식함<br><br>- 긴 문자열을 분석하면 메모리 오류가 발생함으로 길이가 20 이상인 채팅 문자열은 쪼개어 분석해야 함<br> - 띄어쓰기가 정확하지 않은 문장에서 명사를 추출하지 못함|
|Komoran| - 소요시간이 적음| - 띄어쓰기가 정확하지 않은 문장에서 명사를 추출하지 못함<br><br> - 🤭와 같은 특수한 이모티콘을 인식하지 못해 유니코드 에러가 발생함으로 이모티콘은 별도의 예외 처리가 필요함|
|Okt| - 소요시간이 적음 <br> - 띄어쓰기가 정확하지 않은 문장에서 명사를 잘 추출함| |
  
<br/>

### V. 결론

매우 긴 실행시간이 소요되지 않고 띄어쓰기가 정확하지 않은 문장에서 명사를 추출하는 성능이 좋은 Okt 형태소 분서기가 채팅에서 많이 출연한 명사를 추출하는 기능을 구현하는데 사용하기 가장 적합하다.